[2025-07-22 18:48:01.856 +01:00 INF] : Listening exclusively on Unix socket: /home/RubyManager/web/whatsapp.rubymanager.app/netcoreapp/app.sock
[2025-07-22 18:48:01.937 +01:00 INF] : WhatsApp API configured successfully. Starting application...
[2025-07-22 18:48:01.950 +01:00 INF] WhatsAppApi.Services.WhatsAppServiceV2: Scanning for existing WhatsApp sessions to restore...
[2025-07-22 18:48:01.984 +01:00 WRN] Microsoft.AspNetCore.Server.Kestrel: Overriding address(es) 'http://unix:/home/RubyManager/web/whatsapp.rubymanager.app/netcoreapp/app.sock'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
[2025-07-22 18:48:01.988 +01:00 WRN] Microsoft.AspNetCore.Server.Kestrel: HTTP/2 is not enabled for /home/RubyManager/web/whatsapp.rubymanager.app/netcoreapp/app.sock. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
[2025-07-22 18:48:01.996 +01:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://unix:/home/RubyManager/web/whatsapp.rubymanager.app/netcoreapp/app.sock
[2025-07-22 18:48:01.997 +01:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-07-22 18:48:01.998 +01:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-07-22 18:48:01.998 +01:00 INF] Microsoft.Hosting.Lifetime: Content root path: /root/BaileysCSharp/WhatsAppApi
[2025-07-22 18:48:03.955 +01:00 INF] WhatsAppApi.Services.WhatsAppServiceV2: Scanning for sessions in directory: /home/RubyManager/web/whatsapp.rubymanager.app/sessions
[2025-07-22 18:48:03.955 +01:00 INF] WhatsAppApi.Services.WhatsAppServiceV2: No existing WhatsApp sessions found to restore
[2025-07-22 18:51:57.427 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost/v2/WhatsAppControllerV2/startSession - application/json; charset=utf-8 54
[2025-07-22 18:51:57.471 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.StartSession (WhatsAppApi)'
[2025-07-22 18:51:57.488 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "StartSession", controller = "WhatsAppControllerV2"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StartSession(WhatsAppApi.Controllers.StartSessionRequest) on controller WhatsAppApi.Controllers.WhatsAppControllerV2 (WhatsAppApi).
[2025-07-22 18:51:57.514 +01:00 INF] WhatsAppApi.Services.WhatsAppServiceV2: Starting session: 7afd5398-97c3-11eb-a990-f23c917564d6
[2025-07-22 18:51:58.421 +01:00 INF] WhatsAppApi.Services.WhatsAppServiceV2: No existing credentials found for session 7afd5398-97c3-11eb-a990-f23c917564d6, will create new ones
[2025-07-22 18:51:58.532 +01:00 INF] WhatsAppApi.Services.WhatsAppServiceV2: Session 7afd5398-97c3-11eb-a990-f23c917564d6 initialized and added to active sessions
[2025-07-22 18:51:58.536 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-07-22 18:51:58.545 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action WhatsAppApi.Controllers.WhatsAppControllerV2.StartSession (WhatsAppApi) in 1054.069ms
[2025-07-22 18:51:58.547 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.StartSession (WhatsAppApi)'
[2025-07-22 18:51:58.549 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost/v2/WhatsAppControllerV2/startSession - 200 null application/json; charset=utf-8 1123.143ms
[2025-07-22 18:51:59.324 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost/v2/WhatsAppControllerV2/getAsciiQRCode?sessionName=7afd5398-97c3-11eb-a990-f23c917564d6 - null null
[2025-07-22 18:51:59.330 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.GetAsciiQRCode (WhatsAppApi)'
[2025-07-22 18:51:59.335 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAsciiQRCode", controller = "WhatsAppControllerV2"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAsciiQRCode(System.String, Int32) on controller WhatsAppApi.Controllers.WhatsAppControllerV2 (WhatsAppApi).
[2025-07-22 18:51:59.924 +01:00 INF] WhatsAppApi.Services.WhatsAppServiceV2: Generating QR code for session 7afd5398-97c3-11eb-a990-f23c917564d6
[2025-07-22 18:52:00.069 +01:00 INF] WhatsAppApi.Services.WhatsAppServiceV2: QR code generated and stored for session 7afd5398-97c3-11eb-a990-f23c917564d6
[2025-07-22 18:52:00.340 +01:00 INF] WhatsAppApi.Services.WhatsAppServiceV2: QR code ready for session 7afd5398-97c3-11eb-a990-f23c917564d6 after 1002ms
[2025-07-22 18:52:00.341 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-07-22 18:52:00.344 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action WhatsAppApi.Controllers.WhatsAppControllerV2.GetAsciiQRCode (WhatsAppApi) in 1009.044ms
[2025-07-22 18:52:00.344 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.GetAsciiQRCode (WhatsAppApi)'
[2025-07-22 18:52:00.345 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost/v2/WhatsAppControllerV2/getAsciiQRCode?sessionName=7afd5398-97c3-11eb-a990-f23c917564d6 - 200 null application/json; charset=utf-8 1020.6514ms
[2025-07-22 18:52:01.002 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost/v2/WhatsAppControllerV2/connectionStatus?sessionName=7afd5398-97c3-11eb-a990-f23c917564d6 - null null
[2025-07-22 18:52:01.004 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.GetConnectionStatus (WhatsAppApi)'
[2025-07-22 18:52:01.005 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetConnectionStatus", controller = "WhatsAppControllerV2"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetConnectionStatus(System.String) on controller WhatsAppApi.Controllers.WhatsAppControllerV2 (WhatsAppApi).
[2025-07-22 18:52:01.006 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType4`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-07-22 18:52:01.007 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action WhatsAppApi.Controllers.WhatsAppControllerV2.GetConnectionStatus (WhatsAppApi) in 1.8447ms
[2025-07-22 18:52:01.007 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.GetConnectionStatus (WhatsAppApi)'
[2025-07-22 18:52:01.008 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost/v2/WhatsAppControllerV2/connectionStatus?sessionName=7afd5398-97c3-11eb-a990-f23c917564d6 - 200 null application/json; charset=utf-8 5.535ms
[2025-07-22 18:52:04.684 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost/v2/WhatsAppControllerV2/getAsciiQRCode?sessionName=7afd5398-97c3-11eb-a990-f23c917564d6 - null null
[2025-07-22 18:52:04.685 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.GetAsciiQRCode (WhatsAppApi)'
[2025-07-22 18:52:04.685 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAsciiQRCode", controller = "WhatsAppControllerV2"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAsciiQRCode(System.String, Int32) on controller WhatsAppApi.Controllers.WhatsAppControllerV2 (WhatsAppApi).
[2025-07-22 18:52:04.686 +01:00 INF] WhatsAppApi.Services.WhatsAppServiceV2: QR code ready for session 7afd5398-97c3-11eb-a990-f23c917564d6 after 0ms
[2025-07-22 18:52:04.686 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-07-22 18:52:04.687 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action WhatsAppApi.Controllers.WhatsAppControllerV2.GetAsciiQRCode (WhatsAppApi) in 1.179ms
[2025-07-22 18:52:04.687 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.GetAsciiQRCode (WhatsAppApi)'
[2025-07-22 18:52:04.687 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost/v2/WhatsAppControllerV2/getAsciiQRCode?sessionName=7afd5398-97c3-11eb-a990-f23c917564d6 - 200 null application/json; charset=utf-8 3.3464ms
[2025-07-22 18:52:05.364 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost/v2/WhatsAppControllerV2/connectionStatus?sessionName=7afd5398-97c3-11eb-a990-f23c917564d6 - null null
[2025-07-22 18:52:05.366 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.GetConnectionStatus (WhatsAppApi)'
[2025-07-22 18:52:05.366 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetConnectionStatus", controller = "WhatsAppControllerV2"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetConnectionStatus(System.String) on controller WhatsAppApi.Controllers.WhatsAppControllerV2 (WhatsAppApi).
[2025-07-22 18:52:05.367 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType4`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-07-22 18:52:05.368 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action WhatsAppApi.Controllers.WhatsAppControllerV2.GetConnectionStatus (WhatsAppApi) in 1.2512ms
[2025-07-22 18:52:05.369 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.GetConnectionStatus (WhatsAppApi)'
[2025-07-22 18:52:05.369 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost/v2/WhatsAppControllerV2/connectionStatus?sessionName=7afd5398-97c3-11eb-a990-f23c917564d6 - 200 null application/json; charset=utf-8 4.9609ms
[2025-07-22 18:52:11.042 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost/v2/WhatsAppControllerV2/connectionStatus?sessionName=7afd5398-97c3-11eb-a990-f23c917564d6 - null null
[2025-07-22 18:52:11.043 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.GetConnectionStatus (WhatsAppApi)'
[2025-07-22 18:52:11.043 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetConnectionStatus", controller = "WhatsAppControllerV2"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetConnectionStatus(System.String) on controller WhatsAppApi.Controllers.WhatsAppControllerV2 (WhatsAppApi).
[2025-07-22 18:52:11.043 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType4`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-07-22 18:52:11.043 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action WhatsAppApi.Controllers.WhatsAppControllerV2.GetConnectionStatus (WhatsAppApi) in 0.2536ms
[2025-07-22 18:52:11.043 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.GetConnectionStatus (WhatsAppApi)'
[2025-07-22 18:52:11.043 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost/v2/WhatsAppControllerV2/connectionStatus?sessionName=7afd5398-97c3-11eb-a990-f23c917564d6 - 200 null application/json; charset=utf-8 2.2072ms
[2025-07-22 18:52:13.464 +01:00 INF] WhatsAppApi.Services.WhatsAppServiceV2: Scheduling reconnection for 7afd5398-97c3-11eb-a990-f23c917564d6 in 2 seconds (attempt 1)
[2025-07-22 18:52:15.466 +01:00 INF] WhatsAppApi.Services.WhatsAppServiceV2: Reconnection attempt 1 for session 7afd5398-97c3-11eb-a990-f23c917564d6
[2025-07-22 18:52:16.048 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost/v2/WhatsAppControllerV2/connectionStatus?sessionName=7afd5398-97c3-11eb-a990-f23c917564d6 - null null
[2025-07-22 18:52:16.049 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.GetConnectionStatus (WhatsAppApi)'
[2025-07-22 18:52:16.049 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetConnectionStatus", controller = "WhatsAppControllerV2"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetConnectionStatus(System.String) on controller WhatsAppApi.Controllers.WhatsAppControllerV2 (WhatsAppApi).
[2025-07-22 18:52:16.049 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType4`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-07-22 18:52:16.049 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action WhatsAppApi.Controllers.WhatsAppControllerV2.GetConnectionStatus (WhatsAppApi) in 0.368ms
[2025-07-22 18:52:16.050 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.GetConnectionStatus (WhatsAppApi)'
[2025-07-22 18:52:16.050 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost/v2/WhatsAppControllerV2/connectionStatus?sessionName=7afd5398-97c3-11eb-a990-f23c917564d6 - 200 null application/json; charset=utf-8 1.4949ms
[2025-07-22 18:52:17.266 +01:00 INF] WhatsAppApi.Services.WhatsAppServiceV2: Session 7afd5398-97c3-11eb-a990-f23c917564d6 connected successfully
[2025-07-22 18:52:21.044 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost/v2/WhatsAppControllerV2/connectionStatus?sessionName=7afd5398-97c3-11eb-a990-f23c917564d6 - null null
[2025-07-22 18:52:21.045 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.GetConnectionStatus (WhatsAppApi)'
[2025-07-22 18:52:21.045 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetConnectionStatus", controller = "WhatsAppControllerV2"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetConnectionStatus(System.String) on controller WhatsAppApi.Controllers.WhatsAppControllerV2 (WhatsAppApi).
[2025-07-22 18:52:21.046 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType4`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-07-22 18:52:21.047 +01:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action WhatsAppApi.Controllers.WhatsAppControllerV2.GetConnectionStatus (WhatsAppApi) in 1.3173ms
[2025-07-22 18:52:21.048 +01:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'WhatsAppApi.Controllers.WhatsAppControllerV2.GetConnectionStatus (WhatsAppApi)'
[2025-07-22 18:52:21.049 +01:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost/v2/WhatsAppControllerV2/connectionStatus?sessionName=7afd5398-97c3-11eb-a990-f23c917564d6 - 200 null application/json; charset=utf-8 4.6774ms
